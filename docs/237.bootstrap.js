"use strict";(self.webpackChunkcreate_wasm_app=self.webpackChunkcreate_wasm_app||[]).push([[237],{42:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Ge:()=>c.Ge});var n=r(847),c=r(494),s=e([n]);n=(s.then?(await s)():s)[0],(0,c.lI)(n),n.__wbindgen_start(),a()}catch(e){a(e)}})},237:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t);var n=r(42),c=r(847),s=e([n,c]);[n,c]=s.then?(await s)():s;const _=n.Ge.new(),i=_.get_name_list(),l=_.get_character_count(),o=new Uint8Array(c.memory.buffer,i),g=new TextDecoder("utf-8").decode(o).split("\0").filter(e=>e.length>0).slice(0,l),d=document.getElementById("character-list");function u(){document.getElementById("character-selection-section").style.display="block",document.getElementById("character-view-section").style.display="none",document.getElementById("back-button").style.display="none"}function h(e){document.getElementById("character-name").textContent=e.name,document.getElementById("character-subclass").textContent=e.subclass,document.getElementById("character-description").textContent=e.description,document.getElementById("character-health").value=e.health,document.getElementById("character-attack").value=e.attack,document.getElementById("character-defense").value=e.defense,document.getElementById("character-will").value=e.will,document.getElementById("character-speed").value=e.speed,document.getElementById("character-flying").checked=e.isFlying,e.attacks&&e.attacks.length>0?document.getElementById("character-attacks").innerHTML=e.attacks.map(e=>`<div class="ability-item">${e}</div>`).join(""):document.getElementById("character-attacks").innerHTML='<div class="loading">No abilities available</div>',document.getElementById("companions-section").style.display="none"}d.innerHTML=g.map((e,t)=>`<button class="character-item" data-index="${t}">${e}</button>`).join(""),d.addEventListener("click",e=>{if(console.log("Click detected on:",e.target),e.target.classList.contains("character-item")){let r=parseInt(e.target.dataset.index),a=g[r];console.log("Character selected:",a,"Index:",r);const n=new TextDecoder("utf-8"),s=_.get_name(r),i=_.get_name_size(r),l=_.get_subclass(r),o=_.get_subclass_size(r),d=_.get_description(r),u=_.get_description_size(r),m=n.decode(new Uint8Array(c.memory.buffer,s,i)),b=n.decode(new Uint8Array(c.memory.buffer,l,o)),p=n.decode(new Uint8Array(c.memory.buffer,d,u)),y=_.get_attacks(r),w=_.get_attacks_count(r);let f=[];if(w>0){const e=new Uint8Array(c.memory.buffer,y);f=n.decode(e).split("\0").filter(e=>e.length>0).slice(0,w)}t={index:r,name:m,subclass:b,description:p,health:_.get_health(r),attack:_.get_attack(r),defense:_.get_defense(r),will:_.get_will(r),speed:_.get_speed(r),isFlying:_.get_is_flying(r),attacks:f},document.getElementById("character-selection-section").style.display="none",document.getElementById("character-view-section").style.display="block",document.getElementById("back-button").style.display="block",h(t)}var t}),document.getElementById("back-button").addEventListener("click",u),a()}catch(m){a(m)}})},494:(e,t,r)=>{let a;function n(e){a=e}r.d(t,{Ge:()=>i,Qn:()=>o,bL:()=>l,lI:()=>n});let c=new("undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let s=null;"undefined"==typeof FinalizationRegistry||new FinalizationRegistry(e=>a.__wbg_character_free(e>>>0,1));const _="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>a.__wbg_characterlist_free(e>>>0,1));class i{static __wrap(e){e>>>=0;const t=Object.create(i.prototype);return t.__wbg_ptr=e,_.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,_.unregister(this),e}free(){const e=this.__destroy_into_raw();a.__wbg_characterlist_free(e,0)}static new(){const e=a.characterlist_new();return i.__wrap(e)}get_health(e){return a.characterlist_get_health(this.__wbg_ptr,e)}get_name(e){return a.characterlist_get_name(this.__wbg_ptr,e)>>>0}get_name_size(e){return a.characterlist_get_name_size(this.__wbg_ptr,e)>>>0}get_subclass(e){return a.characterlist_get_subclass(this.__wbg_ptr,e)>>>0}get_subclass_size(e){return a.characterlist_get_subclass_size(this.__wbg_ptr,e)>>>0}get_description(e){return a.characterlist_get_description(this.__wbg_ptr,e)>>>0}get_description_size(e){return a.characterlist_get_description_size(this.__wbg_ptr,e)>>>0}get_attack(e){return a.characterlist_get_attack(this.__wbg_ptr,e)}get_defense(e){return a.characterlist_get_defense(this.__wbg_ptr,e)}get_will(e){return a.characterlist_get_will(this.__wbg_ptr,e)}get_speed(e){return a.characterlist_get_speed(this.__wbg_ptr,e)}get_is_flying(e){return 0!==a.characterlist_get_is_flying(this.__wbg_ptr,e)}get_attacks(e){return a.characterlist_get_attacks(this.__wbg_ptr,e)>>>0}get_attacks_count(e){return a.characterlist_get_attacks_count(this.__wbg_ptr,e)>>>0}get_companions(e){return a.characterlist_get_companions(this.__wbg_ptr,e)>>>0}get_companions_count(e){return a.characterlist_get_companions_count(this.__wbg_ptr,e)>>>0}get_name_list(){return a.characterlist_get_name_list(this.__wbg_ptr)>>>0}get_character_count(){return a.characterlist_get_character_count(this.__wbg_ptr)>>>0}}function l(){const e=a.__wbindgen_export_0,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function o(e,t){throw new Error((r=e,n=t,r>>>=0,c.decode((null!==s&&0!==s.byteLength||(s=new Uint8Array(a.memory.buffer)),s).subarray(r,r+n))));var r,n}},847:(e,t,r)=>{var a=r(494);e.exports=r.v(t,e.id,"bdffbb6def4f6bb4d027",{"./lw_rpg_bg.js":{__wbindgen_throw:a.Qn,__wbindgen_init_externref_table:a.bL}})}}]);